# SiDemo Cluster Example

This example demonstrates usage of the Equinix Metal K3s module. A Demo application is installed.

## Usage

```bash
terraform init
terraform apply
```

<!-- TEMPLATE: The following block has been generated by terraform-docs util: https://github.com/terraform-docs/terraform-docs -->
<!-- BEGIN_TF_DOCS -->
### Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3 |
| <a name="requirement_equinix"></a> [equinix](#requirement\_equinix) | >= 1.14.2 |

### Providers

No providers.

### Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_demo"></a> [demo](#module\_demo) | ../.. | n/a |

### Resources

No resources.

### Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_metal_auth_token"></a> [metal\_auth\_token](#input\_metal\_auth\_token) | Your Equinix Metal API key | `string` | n/a | yes |
| <a name="input_metal_project_id"></a> [metal\_project\_id](#input\_metal\_project\_id) | Your Equinix Metal Project ID | `string` | n/a | yes |
| <a name="input_clusters"></a> [clusters](#input\_clusters) | K3s cluster definition | <pre>list(object({<br>    name                    = optional(string, "K3s demo cluster")<br>    metro                   = optional(string, "FR")<br>    plan_control_plane      = optional(string, "c3.small.x86")<br>    plan_node               = optional(string, "c3.small.x86")<br>    node_count              = optional(number, 0)<br>    k3s_ha                  = optional(bool, false)<br>    os                      = optional(string, "debian_11")<br>    control_plane_hostnames = optional(string, "k3s-cp")<br>    node_hostnames          = optional(string, "k3s-node")<br>    custom_k3s_token        = optional(string, "")<br>    ip_pool_count           = optional(number, 0)<br>    k3s_version             = optional(string, "")<br>    metallb_version         = optional(string, "")<br>  }))</pre> | <pre>[<br>  {}<br>]</pre> | no |
| <a name="input_deploy_demo"></a> [deploy\_demo](#input\_deploy\_demo) | Deploys a simple demo using a global IP as ingress and a hello-kubernetes pods | `bool` | `true` | no |
| <a name="input_global_ip"></a> [global\_ip](#input\_global\_ip) | Enables a global anycast IPv4 that will be shared for all clusters in all metros | `bool` | `true` | no |

### Outputs

| Name | Description |
|------|-------------|
| <a name="output_demo_cluster"></a> [demo\_cluster](#output\_demo\_cluster) | Passthrough of the root module output |
<!-- END_TF_DOCS -->
